# Knowledge Nexus å°ˆæ¡ˆåˆ†æå ±å‘Š

**å°ˆæ¡ˆ**: [github.com/miles990/knowledge-nexus](https://github.com/miles990/knowledge-nexus)
**åˆ†ææ—¥æœŸ**: 2026-01-23
**ç‰ˆæœ¬**: 0.1.0

---

## ä¸€ã€å°ˆæ¡ˆæ¦‚è¿°

### 1.1 å®šä½èˆ‡é¡˜æ™¯

**Personal Knowledge MCP Server** â€” å°‡å€‹äººæ”¶é›†çš„çŸ¥è­˜ç¢ç‰‡è½‰åŒ–ç‚º Claude Code å¯ä¸»å‹•æŸ¥è©¢çš„é¤Šåˆ†ã€‚

**è§£æ±ºçš„ç—›é»**ï¼š
| ç—›é» | è§£æ±ºæ–¹æ¡ˆ |
|------|----------|
| è³‡è¨Šç„¦æ…®ï¼ˆæ”¶è—å¾Œéºå¿˜ï¼‰ | MCP æ•´åˆï¼ŒClaude ä¸»å‹•æª¢ç´¢ |
| çŸ¥è­˜å­¤å³¶ï¼ˆåˆ†æ•£å„å·¥å…·ï¼‰ | çµ±ä¸€çŸ¥è­˜åº« + FTS æœå°‹ |
| è¢«å‹•ä½¿ç”¨ | AI æ´å¯Ÿ + è¡Œå‹•å»ºè­° |

### 1.2 æŠ€è¡“æ£§

| å±¤ç´š | æŠ€è¡“é¸æ“‡ | ç†ç”± |
|------|----------|------|
| **èªè¨€** | Go 1.22+ | CLI å•Ÿå‹•å¿«ï¼ˆ~12msï¼‰ã€å–®ä¸€äºŒé€²åˆ¶ |
| **å„²å­˜** | SQLite + FTS4 | æœ¬åœ°å„ªå…ˆã€å…¨æ–‡æœå°‹ |
| **MCP** | [mcp-go](https://github.com/mark3labs/mcp-go) | å®˜æ–¹æ¨è–¦çš„ Go SDK |
| **HTTP** | Chi Router | è¼•é‡ã€é«˜æ•ˆèƒ½ |
| **æ“´å……** | Chrome Extension (Manifest V3) | Side Panel + Context Menu |

---

## äºŒã€æ¶æ§‹åˆ†æ

### 2.1 æ•´é«”æ¶æ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Knowledge Nexus                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  CLI (kn)  â”‚  Browser Ext  â”‚  MCP  â”‚  Hooks    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”¬â”€â”€â”€â”´â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
       â”‚             â”‚           â”‚         â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Core Server                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ REST API â”‚  â”‚   MCP    â”‚  â”‚ WebSocketâ”‚      â”‚
â”‚  â”‚ :8765    â”‚  â”‚  stdio   â”‚  â”‚  (æœªä¾†)  â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                      â”‚                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚           Service Layer                   â”‚  â”‚
â”‚  â”‚  Knowledge â”‚ Session â”‚ Project â”‚ Insights â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                      â”‚                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              Data Layer                   â”‚  â”‚
â”‚  â”‚     SQLite + FTS4    â”‚   (Vector DB æœªä¾†)â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 ç›®éŒ„çµæ§‹ï¼ˆæ¨™æº– Go ä½ˆå±€ï¼‰

```
knowledge-nexus/
â”œâ”€â”€ cmd/kn/              # CLI å…¥å£
â”œâ”€â”€ internal/
â”‚   â”œâ”€â”€ config/          # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ db/              # è³‡æ–™åº«å±¤ï¼ˆRepositoryï¼‰
â”‚   â”œâ”€â”€ service/         # æ¥­å‹™é‚è¼¯å±¤
â”‚   â”œâ”€â”€ server/          # REST API
â”‚   â”œâ”€â”€ mcp/             # MCP Server
â”‚   â””â”€â”€ cli/             # CLI å‘½ä»¤
â”œâ”€â”€ extension/           # Chrome Extension
â”œâ”€â”€ hooks/               # Claude Code Hooks
â”œâ”€â”€ docs/skills/         # é–‹ç™¼éç¨‹ä¸­ç”¢ç”Ÿçš„ Skills
â””â”€â”€ .spec-workflow/      # spec-workflow è¦åŠƒæ–‡ä»¶
```

---

## ä¸‰ã€MCP Data Tools æ¨¡å¼ï¼ˆé‡é»ï¼‰

### 3.1 ä»€éº¼æ˜¯ MCP Data Tools æ¨¡å¼

**æ ¸å¿ƒç†å¿µ**ï¼šMCP Tools åªè² è²¬æä¾›çµæ§‹åŒ–è³‡æ–™ï¼Œè®“ Claude åšåˆ†æå’Œæ±ºç­–ã€‚

**å‚³çµ±æ¨¡å¼ vs Data Tools æ¨¡å¼**ï¼š

| é¢å‘ | å‚³çµ±æ¨¡å¼ | MCP Data Tools æ¨¡å¼ |
|------|----------|---------------------|
| AI é‚è¼¯ä½ç½® | Server ç«¯ï¼ˆéœ€è¦ API keyï¼‰ | Client ç«¯ï¼ˆClaude è‡ªå·±ï¼‰ |
| Tool å›å‚³ | è™•ç†å¾Œçš„çµè«– | åŸå§‹çµæ§‹åŒ–è³‡æ–™ |
| å½ˆæ€§ | ä½ï¼ˆé‚è¼¯å¯«æ­»ï¼‰ | é«˜ï¼ˆClaude è‡ªç”±åˆ†æï¼‰ |
| å¤–éƒ¨ä¾è³´ | OpenAI/Anthropic API | ç„¡ï¼ˆåˆ©ç”¨ç¾æœ‰ Claudeï¼‰ |
| æˆæœ¬ | é¡å¤– API è²»ç”¨ | é›¶é¡å¤–æˆæœ¬ |

### 3.2 å¯¦ä½œç¯„ä¾‹

**å‚³çµ±æ¨¡å¼ï¼ˆServer åš AI åˆ†æï¼‰**ï¼š
```go
// âŒ å‚³çµ±ï¼šServer èª¿ç”¨ AI API åšåˆ†æ
func GetInsights(ctx context.Context) (string, error) {
    data := fetchData()
    // èª¿ç”¨ OpenAI API åˆ†æ
    response := openai.Analyze(data)  // éœ€è¦ API key + æˆæœ¬
    return response.Summary, nil
}
```

**MCP Data Tools æ¨¡å¼**ï¼š
```go
// âœ… Data Toolsï¼šServer åªæä¾›è³‡æ–™ï¼ŒClaude åˆ†æ
func GetKnowledgeInsights(ctx context.Context) (*KnowledgeInsights, error) {
    return &KnowledgeInsights{
        TotalEntries:   count,
        EntriesByType:  typeMap,      // çµæ§‹åŒ–è³‡æ–™
        TopTags:        topTags,      // çµæ§‹åŒ–è³‡æ–™
        ContentStats:   stats,        // çµæ§‹åŒ–è³‡æ–™
    }, nil
}
// Claude æ”¶åˆ°è³‡æ–™å¾Œè‡ªå·±åˆ†æã€ç”¢ç”Ÿæ´å¯Ÿ
```

### 3.3 Knowledge Nexus çš„æ‡‰ç”¨

**AI è™•ç†æµæ°´ç·š**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Claude Code                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  1. èª¿ç”¨ get_pending_knowledge               â”‚   â”‚
â”‚  â”‚  2. æ”¶åˆ°å¾…è™•ç†çš„ raw content                 â”‚   â”‚
â”‚  â”‚  3. Claude è‡ªå·±åˆ†æã€ç”Ÿæˆ markdown + summary â”‚   â”‚
â”‚  â”‚  4. èª¿ç”¨ update_markdown_content å„²å­˜çµæœ    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Knowledge Nexus MCP Server              â”‚
â”‚  - åªè² è²¬ CRUD                                      â”‚
â”‚  - ä¸èª¿ç”¨ä»»ä½•å¤–éƒ¨ AI API                            â”‚
â”‚  - è®“ Claude æˆç‚º AI å¼•æ“                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.4 å„ªé»ç¸½çµ

1. **é›¶é¡å¤– API æˆæœ¬** - åˆ©ç”¨ç¾æœ‰çš„ Claude å°è©±
2. **ç„¡éœ€ç®¡ç† API Key** - Server ç«¯ç„¡æ•æ„Ÿè³‡è¨Š
3. **æ›´éˆæ´»çš„åˆ†æ** - Claude å¯æ ¹æ“šä¸Šä¸‹æ–‡èª¿æ•´åˆ†ææ–¹å¼
4. **å³æ™‚è¿­ä»£** - ä¸éœ€è¦ä¿®æ”¹ Server å°±èƒ½æ”¹è®Šåˆ†æé‚è¼¯
5. **æœ¬åœ°å„ªå…ˆ** - æ‰€æœ‰è³‡æ–™å’Œè™•ç†éƒ½åœ¨æœ¬åœ°

---

## å››ã€å¯¦ä½œå“è³ªè©•ä¼°

### 4.1 ç¨‹å¼ç¢¼å“è³ª

| æŒ‡æ¨™ | è©•åˆ† | èªªæ˜ |
|------|------|------|
| **æ¶æ§‹æ¸…æ™°åº¦** | â­â­â­â­â­ | æ¨™æº– Go åˆ†å±¤æ¶æ§‹ï¼Œè·è²¬åˆ†æ˜ |
| **æ¸¬è©¦è¦†è“‹** | â­â­â­â­ | 23 å€‹æ¸¬è©¦æª”æ¡ˆï¼Œ204+ æ¸¬è©¦æ¡ˆä¾‹ |
| **éŒ¯èª¤è™•ç†** | â­â­â­â­ | çµ±ä¸€çš„ error wrapping æ¨¡å¼ |
| **æ–‡æª”** | â­â­â­â­â­ | spec-workflow å®Œæ•´è¦åŠƒæ–‡ä»¶ |

### 4.2 äº®é»è¨­è¨ˆ

1. **å¤§å‹å›æ‡‰è™•ç†** - é˜²æ­¢ Claude Code è™•ç†å¤§å‹ MCP å›æ‡‰æ™‚å¡ä½
2. **çŸ­ ID æ”¯æ´** - 8 å­—å…ƒå‰ç¶´åŒ¹é…ï¼Œæå‡ CLI é«”é©—
3. **spec-workflow æ•´åˆ** - å®Œæ•´çš„è¦åŠƒé©…å‹•é–‹ç™¼

---

## äº”ã€æä¾›çš„ MCP Toolsï¼ˆ17 å€‹ï¼‰

| é¡åˆ¥ | Tools |
|------|-------|
| **Knowledge** | `search_knowledge`, `add_knowledge`, `list_knowledge`, `get_knowledge`, `delete_knowledge` |
| **AI è™•ç†** | `get_pending_knowledge`, `update_ai_summary`, `update_markdown_content` |
| **Project** | `list_projects`, `get_project`, `create_project` |
| **Session** | `start_session`, `end_session`, `get_session`, `get_current_session`, `list_sessions` |
| **Insights** | `get_knowledge_insights`, `get_session_insights`, `get_action_suggestions`, `analyze_knowledge_gaps` |

---

## å…­ã€é–‹ç™¼é€²åº¦

| Phase | æè¿° | ç‹€æ…‹ |
|-------|------|------|
| **0** | Skill å·¥å…·æº–å‚™ | âœ… å®Œæˆ |
| **1** | Foundation (MVP) | âœ… å®Œæˆ |
| **2** | Session & Project | âœ… å®Œæˆ |
| **3** | Intelligence | âœ… å®Œæˆ |
| **4** | Ecosystem | ğŸ”„ é€²è¡Œä¸­ |

---

## ä¸ƒã€ç¶œåˆè©•åˆ†

| ç¶­åº¦ | åˆ†æ•¸ | èªªæ˜ |
|------|------|------|
| **è¨­è¨ˆ** | 9/10 | æ¶æ§‹æ¸…æ™°ã€è¨­è¨ˆæ–‡æª”å®Œæ•´ |
| **å¯¦ä½œ** | 8/10 | ç¨‹å¼ç¢¼å“è³ªé«˜ã€æ¸¬è©¦å®Œå–„ |
| **å¯¦ç”¨æ€§** | 7/10 | MVP å¯ç”¨ï¼Œé€²éšåŠŸèƒ½å¾…å®Œæˆ |
| **å‰µæ–°** | 8/10 | MCP Data Tools æ¨¡å¼æœ‰å‰µæ„ |
| **ç¸½é«”** | **8/10** | å„ªç§€çš„ MVPï¼Œå¾ŒçºŒå¯æœŸ |

---

## å…«ã€æœªä¾†å»ºè­°

### çŸ­æœŸ
- å®Œæˆ Browser Extension MVP
- å¼·åŒ– AI è™•ç†æµç¨‹

### ä¸­æœŸ
- å¯¦ä½œèªç¾©æœå°‹ï¼ˆChroma Vector DBï¼‰
- AI å°è©±åŒ¯å…¥åŠŸèƒ½

### é•·æœŸ
- åŒæ­¥æ©Ÿåˆ¶ï¼ˆiCloud/Git-basedï¼‰
- çŸ¥è­˜åœ–è­œè¦–è¦ºåŒ–

---

## ä¹ã€èˆ‡ Self-Evolving Agent æ•´åˆå»ºè­°

| é¢å‘ | æ•´åˆæ–¹å¼ |
|------|----------|
| **æŒä¹…åŒ–è¨˜æ†¶** | å–ä»£ `.claude/memory/` |
| **è·¨å°ˆæ¡ˆçŸ¥è­˜** | é€é MCP æœå°‹ |
| **Session è¿½è¹¤** | è¨˜éŒ„ evolve åŸ·è¡Œ |
| **æ´å¯Ÿåˆ†æ** | ç™¼ç¾å­¸ç¿’æ¨¡å¼ |

---

## é—œéµå­¸ç¿’

1. **MCP Data Tools æ¨¡å¼** - è®“ Claude æˆç‚º AI å¼•æ“ï¼Œé›¶é¡å¤–æˆæœ¬
2. **å¤§å‹å›æ‡‰è™•ç†** - 50KB é™åˆ¶ + æª”æ¡ˆè½åœ°æ©Ÿåˆ¶
3. **spec-workflow è¦åŠƒé©…å‹•** - å®Œæ•´çš„éœ€æ±‚â†’è¨­è¨ˆâ†’ä»»å‹™æµç¨‹
