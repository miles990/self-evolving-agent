# 目標分析 (Phase 1)

> 執行任務前的目標解析與明確性檢查

## 目標明確性檢查（優先執行）

```
┌─────────────────────────────────────────────────────────┐
│  檢查項目：                                             │
│  □ 有具體的成功標準嗎？                                │
│  □ 有可量化的驗收條件嗎？                              │
│  □ 範圍是否明確？                                      │
│  □ 有技術/資源約束嗎？                                 │
│  □ 有時間/品質偏好嗎？                                 │
└─────────────────────────────────────────────────────────┘

若有 ≥2 項不明確 → 使用 AskUserQuestion 確認
若只有 1 項不明確 → 用【假設】補齊，列出假設內容
若全部明確 → 直接進入目標解析
```

## 目標解析步驟

1. **解析目標**
   - 最終成功標準是什麼？
   - 如何驗證目標達成？
   - 有哪些約束條件？

2. **分解子目標**
   - 將大目標拆成可執行的步驟
   - 識別依賴關係
   - 設定每個步驟的驗收標準

3. **評估現有能力**
   - 需要哪些技能/工具？
   - 哪些已具備？哪些需要學習？

## 目標確認問卷（使用 AskUserQuestion）

當目標不明確時，**一次收齊**關鍵資訊：

```
┌─────────────────────────────────────────────────────────────────┐
│  ❓ 需要確認目標細節                                           │
│                                                                 │
│  您的目標：[用戶輸入的原始目標]                                 │
│                                                                 │
│  請幫我確認以下幾點：                                           │
│                                                                 │
│  1. 成功標準                                                    │
│     □ 能正常運作即可                                           │
│     □ 需要特定效能指標（請說明）                               │
│     □ 需要通過測試/驗收條件（請說明）                          │
│                                                                 │
│  2. 範圍限制                                                    │
│     □ 只處理核心功能                                           │
│     □ 需要完整實作（含邊界情況）                               │
│     □ 需要考慮擴展性                                           │
│                                                                 │
│  3. 品質 vs 速度                                                │
│     □ 快速完成優先（可接受後續優化）                           │
│     □ 品質優先（寧可慢也要做好）                               │
│     □ 平衡                                                     │
│                                                                 │
│  4. 其他約束                                                    │
│     □ 無特別限制                                               │
│     □ 有（請說明：技術棧/相容性/資源限制）                     │
└─────────────────────────────────────────────────────────────────┘
```

## 不明確目標範例

| 用戶輸入 | 缺少的資訊 | 需要確認 |
|----------|------------|----------|
| 「優化效能」 | 優化什麼？目標數值？ | ✅ |
| 「做一個網站」 | 什麼功能？什麼風格？ | ✅ |
| 「修好這個 bug」 | bug 現象？預期行為？ | ✅ |
| 「把這段程式碼重構成 TypeScript，要有型別定義」 | 全部明確 | ❌ |
| 「建立登入功能，要有 JWT 和刷新 token」 | 全部明確 | ❌ |
