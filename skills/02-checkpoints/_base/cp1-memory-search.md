# Checkpoint 1: ä»»å‹™é–‹å§‹å‰ - ä¸»å‹•æŸ¥ Memory + Skill æ¨è–¦

> ğŸš¨ **å¼·åˆ¶æª¢æŸ¥é»** - ä¸å¯è·³é

## è¦å‰‡

ğŸ” **ä»»å‹™é–‹å§‹å‰ï¼ˆå¼·åˆ¶ï¼‰**

åŸ·è¡Œä»»ä½•ä»»å‹™å‰ï¼Œå¿…é ˆå…ˆæœå°‹ç›¸é—œç¶“é©—å’Œæ¨è–¦ Skillï¼š
- [ ] æœå°‹ç›¸é—œè¨˜æ†¶ï¼ˆå„ªå…ˆ Memory MCPï¼Œå›é€€ Grepï¼‰
- [ ] æœå°‹å¤±æ•—ç¶“é©—ï¼ˆé¿å…é‡è¤‡è¸©å‘ï¼‰
- [ ] **ğŸ†• LEANN èªç¾©æœå°‹ç›¸é—œ Skillï¼ˆv5.7 æ–°å¢ï¼‰**
- [ ] æœ‰æ‰¾åˆ° â†’ é–±è®€ä¸¦æ‡‰ç”¨
- [ ] æ²’æ‰¾åˆ° â†’ è¨˜éŒ„ã€Œç„¡ç›¸é—œç¶“é©—ã€ï¼Œç¹¼çºŒåŸ·è¡Œ

âŒ **ç¦æ­¢**ï¼šä¸æŸ¥ memory å°±é–‹å§‹åŸ·è¡Œ
âœ… **å¿…é ˆ**ï¼šæ¯å€‹ä»»å‹™é–‹å§‹å‰éƒ½åŸ·è¡Œæœå°‹

## æœå°‹æ–¹å¼

### æ–¹å¼ä¸€ï¼šMemory MCPï¼ˆæ¨è–¦ï¼‰

è‹¥ Memory MCP å¯ç”¨ï¼Œä½¿ç”¨ FTS5 å…¨æ–‡æœå°‹ï¼ˆæ›´å¿«ã€æ›´ç²¾ç¢ºï¼‰ï¼š

```python
# 1. æœå°‹ç›¸é—œè¨˜æ†¶
memory_search({
    "query": "é—œéµå­—1 OR é—œéµå­—2",  # æ”¯æ´ FTS5 èªæ³•
    "scope": "global",               # è·¨å°ˆæ¡ˆæœå°‹
    "limit": 10
})

# 2. æœå°‹é¡ä¼¼å¤±æ•—ç¶“é©—
failure_search({
    "query": "å¯èƒ½çš„éŒ¯èª¤é¡å‹",
    "limit": 5
})
```

**FTS5 æœå°‹èªæ³•**ï¼š
- `word1 word2` - åŒæ™‚åŒ…å«
- `word1 OR word2` - ä»»ä¸€åŒ…å«
- `"exact phrase"` - ç²¾ç¢ºåŒ¹é…

### æ–¹å¼äºŒï¼šGrepï¼ˆå›é€€æ–¹æ¡ˆï¼‰

è‹¥ Memory MCP ä¸å¯ç”¨ï¼š

```python
# ä½¿ç”¨ Grep å·¥å…·æœå°‹
Grep(
    pattern="é—œéµå­—1|é—œéµå­—2",
    path=".claude/memory/",
    output_mode="files_with_matches"
)

# æ‰¾åˆ°å¾Œè®€å–å…§å®¹
Read(file_path=".claude/memory/learnings/xxx.md")
```

## Skill æ¨è–¦ï¼ˆv5.7 å¼·åŒ– - LEANN èªç¾©æœå°‹ï¼‰

### æ–¹å¼ä¸€ï¼šLEANN èªç¾©æœå°‹ï¼ˆæ¨è–¦ï¼‰

ä½¿ç”¨å‘é‡èªç¾©æœå°‹ï¼Œç†è§£ä»»å‹™æ¦‚å¿µè€Œéé—œéµå­—åŒ¹é…ï¼š

```python
# Python API
from leann import LeannSearcher

searcher = LeannSearcher("~/.claude/leann-indexes/skills")
results = searcher.search("ä½ çš„ä»»å‹™æè¿°", top_k=5)

for r in results:
    print(f"{r.metadata['name']}: {r.score:.2f}")
```

```bash
# CLI
leann search skills "ä½ çš„ä»»å‹™æè¿°"
```

**èªç¾©æœå°‹å„ªå‹¢**ï¼š
- æœå°‹ã€Œå¡ç‰ŒéŠæˆ²ã€â†’ ä¹Ÿæ‰¾åˆ° "deckbuilder", "roguelike", "tcg" ç›¸é—œ skill
- æœå°‹ã€Œç•°æ­¥ç«¶çˆ­æ¢ä»¶ã€â†’ æ‰¾åˆ° "testing-strategies", "reliability-engineering"

### æ–¹å¼äºŒï¼šFTS5 é—œéµå­—æœå°‹ï¼ˆå›é€€ï¼‰

ç•¶ LEANN ä¸å¯ç”¨æ™‚ï¼š

```python
# å¾ä»»å‹™æè¿°æå–é—œéµå­—ï¼Œæœå°‹ç›¸é—œ skill
memory_search({
    "query": "skill:* é‡åŒ– äº¤æ˜“",  # æœå°‹ skill ç´¢å¼•
    "limit": 5
})
```

**æ¨è–¦é¡¯ç¤ºæ ¼å¼**ï¼š

```
ğŸ¯ Skill Discovery (èªç¾©æœå°‹):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. quant-trading (0.92)                            â”‚
â”‚    repo: github:miles990/claude-domain-skills      â”‚
â”‚    é©ç”¨: é‡åŒ–äº¤æ˜“ç­–ç•¥é–‹ç™¼ã€å›æ¸¬ã€é¢¨éšªç®¡ç†           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 2. python (0.85)                                   â”‚
â”‚    repo: github:miles990/claude-software-skills    â”‚
â”‚    é©ç”¨: Python ç¨‹å¼è¨­è¨ˆæœ€ä½³å¯¦è¸                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 3. testing-strategies (0.71)                       â”‚
â”‚    repo: github:miles990/claude-software-skills    â”‚
â”‚    é©ç”¨: å–®å…ƒæ¸¬è©¦ã€å›æ¸¬é©—è­‰                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ’¡ å»ºè­°: æ­¤ä»»å‹™å¯çµåˆä»¥ä¸Š skill æå‡å“è³ª
```

### Skill ç´¢å¼•è¨­å®š

#### é¦–æ¬¡è¨­å®šï¼ˆLEANN èªç¾©ç´¢å¼•ï¼‰

```bash
# å®Œæ•´è¨­å®šï¼šå®‰è£ LEANN + åŒæ­¥ skill repos + å»ºç«‹å‘é‡ç´¢å¼•
./scripts/setup-skill-index.sh

# æŸ¥çœ‹ç‹€æ…‹
./scripts/setup-skill-index.sh --status

# æ¸¬è©¦æœå°‹
./scripts/setup-skill-index.sh --test
```

#### åŒæ­¥ skill reposï¼ˆFTS5 ç´¢å¼•ï¼‰

```bash
# åŒæ­¥æ‰€æœ‰ skill repos
./scripts/sync-skills.sh

# åªåŒæ­¥ software skills
./scripts/sync-skills.sh --software

# åªåŒæ­¥ domain skills
./scripts/sync-skills.sh --domain

# åˆ—å‡ºå·²ç´¢å¼•çš„ skills
./scripts/sync-skills.sh --list
```

#### æ›´æ–°ç´¢å¼•

```bash
# ç•¶ skill repos æœ‰æ›´æ–°æ™‚ï¼Œé‡å»º LEANN ç´¢å¼•
./scripts/setup-skill-index.sh --rebuild
```

## ç‚ºä»€éº¼é‡è¦

1. **é¿å…é‡è¤‡è¸©å‘** - éå»çš„å¤±æ•—ç¶“é©—èƒ½é˜²æ­¢å†æ¬¡çŠ¯éŒ¯
2. **åŠ é€ŸåŸ·è¡Œ** - éå»æˆåŠŸçš„æ–¹æ³•å¯ä»¥ç›´æ¥è¤‡ç”¨
3. **æŒçºŒæ”¹é€²** - æ¯æ¬¡éƒ½ç«™åœ¨éå»ç¶“é©—çš„åŸºç¤ä¸Š
4. **è·¨å°ˆæ¡ˆå­¸ç¿’** - Memory MCP è‡ªå‹•å…±äº«æ‰€æœ‰å°ˆæ¡ˆç¶“é©—
5. **ğŸ†• èªç¾©ç†è§£** - LEANN ç†è§£ä»»å‹™æ¦‚å¿µï¼Œæ¨è–¦ç›¸é—œ Skillï¼ˆv5.7ï¼‰

## ç›¸é—œæ–‡ä»¶

- [LEANN Skill Discovery æ•´åˆ](../../05-integration/_base/leann-skill-discovery.md)
- [sync-skills.sh](../../../scripts/sync-skills.sh)
- [setup-skill-index.sh](../../../scripts/setup-skill-index.sh)
